import { useEffect, useState } from 'react';
import Container from 'react-bootstrap/Container';
import { Link } from 'react-scroll';
import logo from '../assets/img/logo.svg'
import { FaTelegramPlane } from "react-icons/fa";
import { FaXTwitter } from "react-icons/fa6";

import Social from './Social';


export default function Header() {
  const socialIcons = [
    {
      name: 'telegram',
      icon: <FaTelegramPlane />,
      url: '/'
    },
    {
      name: 'x',
      icon: <FaXTwitter />,
      url: '/'
    }
  ];
  const navLinks = [
    {
      btn_title: 'ABOUT',
      to: 'about'
    },
    {
      btn_title: 'HOW TO BUY',
      to: ' howTo-buy'
    },
    {
      btn_title: 'TOKENOMICS',
      to: 'tokenomics'
    },
    {
      btn_title: 'roadmap',
      to: 'roadmap'
    },
    {
      btn_title: 'faqS',
      to: 'faq'
    },
  ];
  const [isMenu, setIsMenu] = useState(false);
  const handleTouchStart = (event) => {
    setIsMenu(!isMenu);
  };

  const [scrolled, setScrolled] = useState(false);
  useEffect(() => {
    const handleScroll = () => {
      const isScroll = window.scrollY > 200;
      setScrolled(isScroll);
    };
    window.addEventListener('scroll', handleScroll);
    return () => {
      window.removeEventListener('scroll', handleScroll)
    }
  }, [scrolled, setScrolled]);

  return (
    <>
      <header className={`heading ${scrolled ? 'position-fixed' : ''}`}>
        <div className="heading-shape position-absolute top-100 start-0 w-100 z-n1">
          <svg className='w-100 h-auto' xmlns="http://www.w3.org/2000/svg" width="1512" height="82" viewBox="0 0 1512 82" fill="none">
            <g filter="url(#filter0_d_27_16)">
              <path d="M1512 0.5896H0C0 0.5896 0 41.5323 0 55.0847C5.61824 51.4494 11.2034 44.3109 17.1522 43.6169C20.457 45.0049 28.0251 40.3121 31.3299 43.6169C36.5846 44.6414 39.9225 50.491 44.7476 46.426C49.8371 49.136 54.9926 50.9207 59.9499 46.1947C65.3368 43.9474 69.0052 39.5542 74.8878 46.0648C83.5795 45.8665 88.9334 44.9411 95.8075 38.9263C102.682 32.9115 113.951 39.1907 122.015 43.0904C129.352 44.0158 137.151 48.907 144.851 43.9828C152.585 45.9657 160.219 37.3047 167.258 38.8249C175.454 46.1617 183.518 49.4665 192.871 47.087C201.43 45.4015 208.965 41.634 217.756 47.5166C221.821 42.0636 224.895 47.2523 228.96 49.2352C237.603 50.6485 246.147 40.6133 254.539 43.1177C261.347 45.1998 265.148 54.85 271.625 53.9577C276.45 63.079 281.936 49.9919 286.861 53.9577C291.95 51.3468 295.817 54.9821 301.138 58.0887C305.632 53.1645 310.523 59.9725 315.051 57.8904C323.908 58.5514 336.929 60.6004 344.795 55.6432C347.306 58.1548 348.793 57.8243 351.636 50.6859C355.172 50.6859 359.666 55.0813 363.302 50.4546C367.862 50.4546 369.713 43.8449 374.043 46.5879C376.092 43.2831 378.008 46.2905 380.09 46.3235C381.049 46.3235 382.866 49.2317 384.354 42.3907C387.989 42.1924 393.045 57.6955 396.945 51.6477C400.25 49.2682 403.191 44.7406 406.562 49.83C410.627 53.895 411.685 59.5132 416.477 56.7702C417.98 56.3508 419.379 55.6228 420.585 54.6328C421.792 53.6427 422.779 52.4123 423.483 51.0198C428.275 43.6169 435.314 50.2927 441.065 49.3012C452.5 46.6904 464 43.2864 475.435 49.3012C478.343 48.1776 480.624 49.5656 483.4 48.5742C487.597 43.683 487.366 46.2608 492.059 43.4847C499.924 43.9474 508.153 50.0944 516.184 45.5998C520.579 38.9901 524.314 45.038 528.841 43.65C529.388 44.2816 530.075 44.7775 530.846 45.0982C531.617 45.419 532.453 45.556 533.286 45.4983C534.12 45.4406 534.928 45.1898 535.648 44.7658C536.368 44.3417 536.98 43.7561 537.434 43.0551C540.541 39.9485 539.186 37.7674 540.937 34.5617C543.912 31.0916 554.421 30.2984 559.874 32.4466C564.765 39.4198 569.789 36.4454 574.547 32.4466C581.686 29.5053 586.974 31.389 592.955 36.5776C596.492 47.054 598.111 39.3537 601.879 41.8654C605.415 39.7833 607.695 47.2853 610.835 46.0955C616.255 50.5901 623.162 45.7981 630.366 51.7468C637.571 53.5976 645.04 56.1753 651.55 51.185C659.68 52.7713 668.075 49.9953 675.742 49.3343C679.675 43.9805 679.476 45.4346 683.74 47.5497C687.064 46.9759 690.249 45.7759 693.125 44.0135C698.876 50.6232 706.18 48.7064 712.227 43.683C718.044 45.9303 723.96 43.9474 729.743 43.683C737.576 41.0391 746.036 46.5252 754.463 47.3514C762.924 43.0221 771.318 40.7417 778.985 43.8152C781.365 39.7833 782.951 42.1959 785.066 38.5605C785.529 41.8654 788.867 35.2557 789.131 34.7269C793.89 30.6289 798.451 36.2802 802.879 36.115C808.828 37.9657 813.653 32.5457 819.007 40.0477C823.79 42.2579 828.134 45.3144 831.83 49.0699C836.972 49.7794 842.21 49.0114 846.933 46.8557C848.99 46.38 851.137 46.4665 853.148 47.1061C855.16 47.7457 856.963 48.9149 858.368 50.491C860.714 55.283 860.747 57.1007 864.118 52.4739C867.621 55.5804 871.19 41.9976 874.661 45.3685C879.42 42.3941 885.17 45.1702 890.359 44.0796C897.398 45.8642 904.669 53.5645 912.005 45.8642C919.342 43.9474 926.679 48.1776 933.883 45.5337C936.792 50.8545 943.005 40.7417 945.417 45.5337C947.83 43.3195 947.698 43.3195 950.209 37.9657C952.721 29.1748 957.844 29.2739 960.95 36.2141C964.928 35.9902 968.904 36.668 972.583 38.197C977.97 45.4346 983.489 38.6266 988.876 38.3953C993.853 39.0599 998.892 37.7555 1002.92 34.7599C1010.59 31.4551 1014.95 36.5445 1020.77 40.6425C1024.07 45.699 1024.7 42.989 1028.67 44.7075C1031.28 48.9377 1033.49 44.9058 1036.17 49.136C1040.76 47.3844 1046.74 54.1594 1051.57 49.4334C1056.33 51.185 1059.2 48.1446 1063.43 47.4175C1066.44 48.442 1068.06 43.3195 1070.37 49.863C1074.14 56.4727 1074.17 44.9719 1078.7 53.1679C1084.39 46.9218 1090.37 53.1679 1096.09 53.1679C1098.96 56.7372 1102.27 51.7799 1105.11 53.1679C1109.67 53.8619 1107.52 51.9781 1111.06 49.863C1115.32 45.1371 1119.45 40.8408 1124.97 47.5827C1129.03 43.4847 1133.1 46.0294 1137.13 47.5827C1140.44 48.5081 1143.74 47.1531 1146.78 47.9132C1149.69 45.4676 1152.53 50.2266 1155.7 51.9121C1158.81 56.5058 1162.15 51.0528 1165.26 53.895C1170.81 52.0112 1174.94 59.9429 1180.46 62.2232C1185.98 70.7497 1192.09 62.5537 1197.74 62.8511C1202.2 66.7178 1205.44 61.9258 1209.94 67.8415C1212.71 58.7201 1215.46 69.8574 1218.1 69.0642C1219.82 68.6346 1221.67 76.7645 1223.62 72.1377C1225.3 74.8807 1227.32 66.9822 1229.07 71.8403C1234.53 71.1463 1236.28 59.6751 1240.41 65.6238C1249.17 70.9446 1259.41 78.0169 1270.15 71.1759C1275.8 72.4317 1281.42 70.7463 1287.07 71.1759C1294.77 74.4807 1302.44 70.0853 1310.21 71.1759C1317.91 74.1172 1325.57 71.1759 1333.34 71.1759C1337.9 69.8209 1341.01 67.8711 1345.14 69.2591C1348.44 67.7719 1351.75 72.2996 1355.05 69.2591C1360.87 71.1759 1369 72.7953 1373.92 63.9053C1376.07 60.6004 1376.63 56.8659 1378.52 59.5098C1379.71 61.5588 1380.9 59.5098 1382.09 56.0067C1384.07 51.2808 1384.93 48.4056 1384.7 50.2232C1390.91 44.0101 1408.26 61.7275 1417.75 58.2243C1424.72 57.0346 1431.59 54.9195 1439.06 56.9354C1443.26 59.8107 1445.37 54.2916 1449.21 53.3662C1454.59 52.2426 1461.24 55.977 1466.76 53.0357C1474.39 51.4824 1481.86 57.1668 1489.36 53.9611C1496.86 53.6967 1512 54.9195 1512 54.9195V0.5896Z" fill="#DAF3FF" />
            </g>
            <defs>
              <filter id="filter0_d_27_16" x="0" y="0.5896" width="1512" height="81.4104" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                <feFlood floodOpacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                <feOffset dy="8" />
                <feComposite in2="hardAlpha" operator="out" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.279167 0 0 0 0 0.270207 0 0 0 0 0.257066 0 0 0 1 0" />
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_27_16" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_27_16" result="shape" />
              </filter>
            </defs>
          </svg>
        </div>
        <Container className='d-flex align-items-center justify-content-between'>
          <Link className="logo" to="banner" spy={true} smooth={true} duration={700}>
            <img src={logo} alt='logo' />
          </Link>
          <nav className={`heading-menu ${isMenu ? 'show-menu' : ''}`}>
            <div className="title d-flex align-items-center justify-content-between d-lg-none">
              <Link className="logo" to="/">
                <img src={logo} alt='logo' />
              </Link>
              <button className="heading-toggler" onClick={() => setIsMenu(!isMenu)}>
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.3849 9.32205C16.481 9.23249 16.5585 9.12488 16.6129 9.00538C16.6674 8.88587 16.6978 8.75681 16.7024 8.62555C16.707 8.4943 16.6857 8.36342 16.6397 8.2404C16.5938 8.11737 16.524 8.00461 16.4344 7.90855C16.3449 7.81249 16.2373 7.73501 16.1178 7.68053C15.9982 7.62605 15.8692 7.59565 15.7379 7.59105C15.6067 7.58646 15.4758 7.60776 15.3528 7.65374C15.2297 7.69972 15.117 7.76949 15.0209 7.85905L12.0949 10.587L9.36692 7.66005C9.18439 7.47309 8.93593 7.36501 8.67472 7.35891C8.4135 7.35282 8.16028 7.44921 7.96923 7.62745C7.77818 7.8057 7.66448 8.05164 7.65246 8.31265C7.64044 8.57366 7.73106 8.829 7.90492 9.02405L10.6329 11.95L7.70592 14.6781C7.60647 14.7667 7.52573 14.8743 7.46846 14.9946C7.41118 15.1149 7.37852 15.2454 7.37239 15.3785C7.36626 15.5116 7.38679 15.6446 7.43277 15.7696C7.47875 15.8947 7.54925 16.0093 7.64014 16.1067C7.73103 16.2041 7.84047 16.2824 7.96203 16.3369C8.08359 16.3915 8.21482 16.4212 8.34802 16.4243C8.48121 16.4274 8.61369 16.4038 8.73766 16.355C8.86163 16.3062 8.97459 16.2331 9.06992 16.14L11.9959 13.413L14.7239 16.3391C14.812 16.4403 14.9196 16.5229 15.0402 16.5817C15.1609 16.6405 15.2922 16.6745 15.4262 16.6815C15.5603 16.6885 15.6943 16.6685 15.8205 16.6226C15.9466 16.5767 16.0622 16.5058 16.1604 16.4143C16.2586 16.3228 16.3374 16.2124 16.392 16.0898C16.4466 15.9672 16.476 15.8348 16.4784 15.7006C16.4807 15.5664 16.4561 15.4331 16.4058 15.3086C16.3556 15.1841 16.2808 15.071 16.1859 14.976L13.4589 12.05L16.3849 9.32205Z" fill="currentColor" />
                  <path fillRule="evenodd" clipRule="evenodd" d="M1.04492 12C1.04492 5.925 5.96992 1 12.0449 1C18.1199 1 23.0449 5.925 23.0449 12C23.0449 18.075 18.1199 23 12.0449 23C5.96992 23 1.04492 18.075 1.04492 12ZM12.0449 21C10.863 21 9.6927 20.7672 8.60077 20.3149C7.50884 19.8626 6.51669 19.1997 5.68096 18.364C4.84523 17.5282 4.1823 16.5361 3.73001 15.4442C3.27771 14.3522 3.04492 13.1819 3.04492 12C3.04492 10.8181 3.27771 9.64778 3.73001 8.55585C4.1823 7.46392 4.84523 6.47177 5.68096 5.63604C6.51669 4.80031 7.50884 4.13738 8.60077 3.68508C9.6927 3.23279 10.863 3 12.0449 3C14.4319 3 16.7211 3.94821 18.4089 5.63604C20.0967 7.32387 21.0449 9.61305 21.0449 12C21.0449 14.3869 20.0967 16.6761 18.4089 18.364C16.7211 20.0518 14.4319 21 12.0449 21Z" fill="currentColor" />
                </svg>
              </button>
            </div>
            <ul className="d-lg-flex align-items-center">
              {navLinks.map((link, index) => (
                <li key={index} className='d-block'>
                  <Link spy={true} smooth={true} duration={700} offset={link.to == 'about' ? -100 : -30} className="heading-link text-uppercase" to={link.to} onTouchStart={() => handleTouchStart(link.to)}>{link.btn_title}</Link>
                </li>
              ))}
            </ul>
          </nav>
          <div className="heading-actions d-flex align-items-center flex-wrap">
            <Social socialIcons={socialIcons} />
            <button className="heading-toggler d-lg-none" onClick={() => setIsMenu(!isMenu)}>
              <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.08984 6H21.0898" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M3.08984 12H21.0898" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M3.08984 18H21.0898" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" />
              </svg>
            </button>
          </div>
        </Container>
      </header>
    </>
  )
}
